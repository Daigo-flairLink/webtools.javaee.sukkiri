<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin
   id="org.eclipse.jst.j2ee.ejb"
   name="EJB component Plug-in"
   description="This plugin is a non-UI plugin that provides the core functions for Enterprise Java Beans. Some of the main functions provided by this plugin are are EJB creation modification and deletion, EJB jar Import and Export. The EJBEditModel exists in this plugin"
   version="1.0.0"
   provider-name="Eclipse.org"
   class="org.eclipse.jst.j2ee.ejb.internal.plugin.EjbPlugin">

   <runtime>
      <library name="runtime/ejb.jar">
         <export name="*"/>
      </library>
   </runtime>
   <requires>
      <import plugin="org.eclipse.jst.j2ee"/>
      <import plugin="org.eclipse.wst.common.frameworks"/>
      <import plugin="org.eclipse.emf.ecore.xmi"/>
      <import plugin="org.eclipse.jem.workbench"/>
      <import plugin="org.eclipse.wst.common.emfworkbench.integration"/>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="org.eclipse.jst.j2ee.core"/>
      <import plugin="org.eclipse.wst.validation"/>
      <import plugin="org.eclipse.wst.common.emf"/>
      <import plugin="org.eclipse.jem"/>
      <import plugin="org.eclipse.jem.workbench"/>
      <import plugin="org.eclipse.emf.ecore.edit"/>
      <import plugin="org.eclipse.core.runtime"/>
      <import plugin="org.eclipse.jdt.core"/>
      <import plugin="org.eclipse.wst.server.core"/>
      <import plugin="org.eclipse.jst.server.core"/>
      <import plugin="org.eclipse.emf.codegen"/>
      <import plugin="org.eclipse.emf.ecore"/>
      <import plugin="org.eclipse.jdt.launching"/>
      <import plugin="org.eclipse.jst.common.annotations.controller"/>
      <import plugin="org.eclipse.jst.common.frameworks"/>
      <import plugin="org.eclipse.wst.common.modulecore"/>
      <import plugin="org.eclipse.debug.ui"/>
      <import plugin="org.eclipse.wst.common.migration"/>
   </requires>



<!--============================-->
<!-- EJB 1.1 Nature             -->
<!--============================-->
<!--============================-->
<!-- EJB Project Nature Contributions - commented out for Flex project support - vkb  -->
<!--============================-->
   <!--<extension
         id="EJBNature"
         name="EJB Properties"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.eclipse.jst.j2ee.internal.ejb.project.EJBNatureRuntime">
         </run>
      </runtime>
   </extension>
   Register the nature id with the AbstractJavaMOFNature -->
   <!-- <extension
         point="org.eclipse.jem.workbench.nature_registration">
      <nature
            id="org.eclipse.jst.j2ee.ejb.EJBNature">
      </nature>
   </extension> -->
   <extension
         id="editModel.ejb"
         name="EJB Edit Model"
         point="org.eclipse.wst.common.emfworkbench.integration.editModel">
      <editModel
            editModelID="org.eclipse.jst.ejb.editModel"
            factoryClass="org.eclipse.jst.j2ee.internal.ejb.project.EJBEditModelFactory">
         <editModelResource
               URI="META-INF/ejb-jar.xml">
         </editModelResource>
         <editModelResource
               URI="META-INF/webservicesclient.xml">
         </editModelResource>
      </editModel>
   </extension>
   <extension
         id="EJBModuleExtension"
         name="EJBModuleExtension"
         point="org.eclipse.jst.j2ee.EARModuleExtension">
      <earModuleExtension
            extensionClass="org.eclipse.jst.j2ee.ejb.internal.plugin.EjbModuleExtensionImpl">
      </earModuleExtension>
   </extension>
   <extension
         point="org.eclipse.wst.common.emfworkbench.integration.adapterFactory">
      <adapterFactory
            functionGroupID="org.eclipse.jst.j2ee"
            className="org.eclipse.jst.j2ee.internal.ejb.provider.EjbItemProviderAdapterFactory"
            packageURI="ejb.xmi"
            id="org.eclipse.jst.j2ee.ejb.provider.EjbItemProviderAdapterFactory">
      </adapterFactory>
   </extension>
<!-- ====================================================== -->
<!-- EJB Validator Extension		                        -->
<!-- ====================================================== -->
   <extension
         id="EJBValidator"
         name="%EJB_VALIDATOR"
         point="org.eclipse.wst.validation.validator">
      <validator>
         <projectNature
               id="org.eclipse.jst.j2ee.ejb.EJBNature">
         </projectNature>
         <filter
               objectClass="org.eclipse.core.resources.IFile"
               nameFilter="ejb-jar.xml">
         </filter>
         <filter
               objectClass="org.eclipse.core.resources.IFile"
               nameFilter="*.class">
         </filter>
         <filter
               objectClass="org.eclipse.core.resources.IFile"
               nameFilter="*.java">
         </filter>
         <helper
               class="org.eclipse.jst.j2ee.internal.ejb.workbench.validation.EJBHelper">
         </helper>
         <dependentValidator
               depValValue="true">
         </dependentValidator>
         <markerId
               markerIdValue="EJBValidatorMarker">
         </markerId>
         <run
               class="org.eclipse.jst.j2ee.model.internal.validation.EJBValidator">
         </run>
      </validator>
   </extension>
   <extension
         id="EJBValidatorMarker"
         name="%EJB_VALIDATION_PROBLEMMARKER_NAME"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.eclipse.wst.validation.problemmarker">
      </super>
      <persistent
            value="true">
      </persistent>
      <attribute
            name="owner">
      </attribute>
      <attribute
            name="validationSeverity">
      </attribute>
      <attribute
            name="targetObject">
      </attribute>
      <attribute
            name="groupName">
      </attribute>
      <attribute
            name="messageId">
      </attribute>
   </extension>
<!-- ==================================================================== -->
<!-- Purpose: Define adapters for EJB resources                   -->
<!-- Extension point: com.ibm.etools.server.core.moduleObjectAdapters -->
<!-- ==================================================================== -->
 <!-- <extension
         point="org.eclipse.wst.server.ui.moduleArtifactAdapters">
      <moduleArtifactAdapter
            objectClass="org.eclipse.jst.j2ee.internal.ejb.EJBJar"
            class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableObjectAdapter"
            id="com.ibm.wtp.server.j2ee.ejb">
      </moduleArtifactAdapter>
      <moduleArtifactAdapter
            objectClass="org.eclipse.jst.j2ee.internal.ejb.EnterpriseBean"
            class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableObjectAdapter"
            id="com.ibm.wtp.server.j2ee.ejb2">
      </moduleArtifactAdapter>
      <moduleArtifactAdapter
            objectClass="org.eclipse.core.resources.IProject"
            class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableObjectAdapter"
            id="com.ibm.wtp.server.j2ee.ejb3">
      </moduleArtifactAdapter>
      <moduleArtifactAdapter
            objectClass="org.eclipse.core.resources.IFile"
            class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableObjectAdapter"
            id="com.ibm.wtp.server.j2ee.ejb4">
      </moduleArtifactAdapter>
      <moduleArtifactAdapter
            objectClass="org.eclipse.jdt.core.ICompilationUnit"
            class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableObjectAdapter"
            id="com.ibm.wtp.server.j2ee.ejb5">
      </moduleArtifactAdapter>
   </extension>-->
   <extension
         point="org.eclipse.wst.server.core.moduleArtifactAdapters">
      <moduleArtifactAdapter
            id="com.ibm.wtp.server.j2ee.ejb"
            class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory">
         <enablement>
           <with variable="selection">
             <adapt type="org.eclipse.jst.j2ee.ejb.EJBJar"/>
           </with>
         </enablement>
      </moduleArtifactAdapter>
      <moduleArtifactAdapter
            id="com.ibm.wtp.server.j2ee.ejb2"
            class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory">
         <enablement>
           <with variable="selection">
             <adapt type="org.eclipse.jst.j2ee.ejb.EnterpriseBean"/>
           </with>
         </enablement>
      </moduleArtifactAdapter>
      <moduleArtifactAdapter
            id="com.ibm.wtp.server.j2ee.ejb3"
             class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory">
         <enablement>
           <with variable="selection">
             <adapt type="org.eclipse.jdt.core.ICompilationUnit"/>
           </with>
         </enablement>
      </moduleArtifactAdapter>
      <moduleArtifactAdapter
            id="com.ibm.wtp.server.j2ee.ejb4"
             class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory">
         <enablement>
           <with variable="selection">
             <adapt type="org.eclipse.core.resources.IFile"/>
           </with>
         </enablement>
      </moduleArtifactAdapter>
      <moduleArtifactAdapter
            id="com.ibm.wtp.server.j2ee.ejb5"
             class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory">
         <enablement>
           <with variable="selection">
             <adapt type="org.eclipse.core.resources.IProject"/>
           </with>
         </enablement>
      </moduleArtifactAdapter>
      </extension>
      <extension point="org.eclipse.core.runtime.adapters">
         <factory
             class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory"
             adaptableType="org.eclipse.core.resources.IProject">
             <adapter type= "org.eclipse.debug.ui.actions.ILaunchable"/> 
        </factory>
        <factory
             class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory"
             adaptableType="org.eclipse.jdt.core.ICompilationUnit">
             <adapter type= "org.eclipse.debug.ui.actions.ILaunchable"/> 
        </factory>
        <factory
             class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory"
             adaptableType="org.eclipse.core.resources.IFile">
            <adapter type= "org.eclipse.debug.ui.actions.ILaunchable"/> 
       </factory>
       <factory
             class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory"
             adaptableType="org.eclipse.jst.j2ee.internal.ejb.EnterpriseBean">
             <adapter type= "org.eclipse.debug.ui.actions.ILaunchable"/> 
       </factory>
       <factory
             class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableArtifactAdapterFactory"
             adaptableType=" org.eclipse.jst.j2ee.internal.ejb.impl.EJBJarImpl">
             <adapter type= "org.eclipse.debug.ui.actions.ILaunchable"/> 
       </factory>    
   </extension>
   
<!-- =============================================================== -->
<!-- Purpose: Define the default module project factory          -->
<!-- Extension point: org.eclipse.wst.server.core.moduleFactories -->
<!-- =============================================================== -->
   <extension
         point="org.eclipse.wst.server.core.moduleFactories">
      <moduleFactory
            projects="true"
            class="org.eclipse.jst.j2ee.ejb.internal.deployables.EJBDeployableFactory"
            id="com.ibm.wtp.server.ejb">
         <moduleType
               versions="1.2, 1.3, 1.4"
               types="j2ee.ejb">
         </moduleType>
      </moduleFactory>
   </extension>
<!-- icon="icons/full/obj16/11_ejbjar_deploy.gif" -->
   <extension
         point="org.eclipse.wst.common.frameworks.ExtendableOperation">
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.project.operations.EJBProjectCreationOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.project.operations.EJBProjectCreationOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.archiveoperations.EJBJarExportOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.archiveoperations.EJBJarExportOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.archiveoperations.EJBJarImportOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.archiveoperations.EJBJarImportOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.project.operations.EJBClientJarCreationOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.project.operations.EJBClientJarCreationOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.internal.operations.EJBClientJARRemovalOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.internal.operations.EJBClientJARRemovalOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.operations.CreateMessageDrivenBeanOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.operations.CreateMessageDrivenBeanOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.operations.CreateSessionBeanOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.operations.CreateSessionBeanOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.operations.CreateCMPBeanOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.operations.CreateCMPBeanOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.operations.CreateEntityBeanOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.operations.CreateEntityBeanOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.internal.operations.RemoveRelationshipDataModelOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.internal.operations.RemoveRelationshipDataModelOperation">
      </extendableOperation>
      <extendableOperation
            class="org.eclipse.jst.j2ee.internal.ejb.internal.operations.EJBClientJarFileMoveOperation"
            id="org.eclipse.jst.j2ee.internal.ejb.internal.operations.EJBClientJarFileMoveOperation">
      </extendableOperation>
   </extension>

	<extension
        point="org.eclipse.ui.ide.resourceFilters">
        <filter
            pattern=".JETEmitters"
            selected="true">
        </filter>        
        <filter
            pattern="gen"
            selected="true">
        </filter>
    </extension>
    
    

   <extension
         point="org.eclipse.wst.common.emfworkbench.integration.editModel">
      <editModel
            editModelID="jst.ejb"
            factoryClass="org.eclipse.wst.common.componentcore.internal.impl.ArtifactEditModelFactory">
         <editModelResource
               autoload="false"
               URI="META-INF/ejb-jar.xml"/>
      </editModel>
   </extension>  
   <extension
         point="org.eclipse.wst.common.migration.migrator">
      <migrator
            className="org.eclipse.wst.common.internal.migration.ComponentMigrator"
            id="org.eclipse.wst.common.internal.migration.ComponentMigrator">
             <enablement>
			  <projectNature natureID="org.eclipse.jst.j2ee.ejb.EJBNature"/>		                          
         </enablement>
      </migrator>
   </extension>
       <extension
          point="org.eclipse.wst.common.migration.migratorStrategy">
       <migratorStrategy
             className="org.eclipse.jst.j2ee.internal.ejb.migration.EJBProjectMigratorStrategy"
             id="org.eclipse.jst.j2ee.internal.ejb.migration.EJBProjectMigratorStrategy.ID">
          <enablement>
			  <projectNature natureID="org.eclipse.jst.j2ee.ejb.EJBNature"/>
          </enablement>
       </migratorStrategy>
    </extension>
        <extension
		id="NatureMappings"
		name="Module Core Nature Mappings"
		point="org.eclipse.wst.common.migration.natureMapping">
		<natureMapping>
			<mapping
				position="first"
				name="Nature Mapping"
				newValue="org.eclipse.wst.common.modulecore.ModuleCoreNature">
				<alias
					value="org.eclipse.jst.j2ee.ejb.EJBNature">
				</alias>
			</mapping>
		</natureMapping>
	</extension>
	   <extension
         point="org.eclipse.wst.common.migration.migrator">
      <migrator
            className="org.eclipse.wst.common.internal.migration.ComponentMigrator"
            id="org.eclipse.wst.common.internal.migration.ComponentMigrator">
             <enablement>
			  <projectNature natureID="com.ibm.wtp.ejb.EJBNature"/>		                          
         </enablement>
      </migrator>
   </extension>
       <extension
          point="org.eclipse.wst.common.migration.migratorStrategy">
       <migratorStrategy
             className="org.eclipse.jst.j2ee.internal.ejb.migration.EJBProjectMigratorStrategy"
             id="org.eclipse.jst.j2ee.internal.ejb.migration.EJBProjectMigratorStrategy.ID">
          <enablement>
			  <projectNature natureID="com.ibm.wtp.ejb.EJBNature"/>
          </enablement>
       </migratorStrategy>
    </extension>
        <extension
		id="NatureMappings"
		name="Module Core Nature Mappings"
		point="org.eclipse.wst.common.migration.natureMapping">
		<natureMapping>
			<mapping
				position="first"
				name="Nature Mapping"
				newValue="org.eclipse.wst.common.modulecore.ModuleCoreNature">
				<alias
					value="com.ibm.wtp.ejb.EJBNature">
				</alias>
			</mapping>
		</natureMapping>
	</extension>
   <!--============================-->
   <!-- Builder Provider registrations-->
   <!--============================--> 
   	<extension
         point="org.eclipse.wst.common.frameworks.DataModelProviderExtension">
     	<ProviderDefinesType
      		providerType="jst.ejb.builder"
      		providerID="org.eclipse.jst.j2ee.internal.deployables.JavaComponentBuilderDataModelProvider"/>
	</extension>
</plugin>
